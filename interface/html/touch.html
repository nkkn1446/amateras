<!DOCTYPE html><html><head>
<meta charset="UTF-8"><title>フリック検出</title>
<meta name="viewport" content="width=device-width">
<style>
#page {border: 5px solid blue;}
.pad { width:100px; height: 100px;}
</style>
</head>
<body>
<div id="page">
<div class="pad">
</div></div>
<script>
 
//フリックと見なすしきい値。開始位置のX座標フリック判定用フラグ
var flick_limit = 100;
var flick_sx = 0;
var flick_flag = false;
 
$("#page").style.position = "absolute";
$("#page").style.width = document.width + "px";
$("#page").style.height = document.height + "px";
 
// 画面に指が触れたときの処理を定義
document.addEventListener("touchstart", function(e) {
    //スクロール無効化                                       
    e.preventDefault();
    // 指が触れた位置のx座標を記録
    flick_sx = e.touches[0].pageX;
    // フリック判定用フラグ(false)
    flick_flag = false;
});
 
// 画面上で指を移動させているきの処理を定義
document.addEventListener("touchmove", function(e) {
    // スクロール無効化                                      
    e.preventDefault();
    // 指が触れた位置のx座標を記録
    var x = e.touches[0].pageX;
    // 指の移動距離（Ｘ軸方向のみ）を算出
    var v = Math.abs(x - flick_sx);
     
    // 移動距離がしきい値を超えていたらフリック判定を切り替え
    flick_flag = (v > flick_limit);
     
    // フリック中のアニメーション＋スタイル
    if(v > flick_limit) {
        $("#page").style.left = (x - flick_sx) + "px";
        $("#page").style.background = "rgba(255, 255, 0, 1)";
    }
});
 
// 画面から指が離れたときの処理を定義
document.addEventListener("touchend", function(e) {
    e.preventDefault();
     
    // フリック判定用フラグがtrueならばアラート表示
    if(flick_flag) {
        alert("フリックされました");
    }
    // フリック判定用フラグを切り替え(false)
    flick_flag = false;
     
    // フリック中のアニメーション＋スタイルを初期化
    $("#page").style.left = "0px";
    $("#page").style.background = "rgba(255, 255, 0, 0)";
});
 
// 引数で指定した要素(id)のオブジェクトを取得
function $(id) {
    return document.querySelector(id);
}
</script></body></html>
